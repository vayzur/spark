[Unit]
Description=Spark Service
Documentation=https://github.com/vayzur/spark
After=network.target nss-lookup.target
StartLimitIntervalSec=30s
StartLimitBurst=5

[Service]
Type=simple

NoNewPrivileges=true
CapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_BIND_SERVICE
AmbientCapabilities=CAP_NET_ADMIN CAP_NET_BIND_SERVICE

TimeoutStartSec=3s
TimeoutStopSec=3s
Restart=on-failure
RestartSec=5s

ExecStart=/usr/local/bin/spark -config /etc/spark/config.toml

[Install]
WantedBy=multi-user.target
